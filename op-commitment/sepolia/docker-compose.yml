services:
  # Consensus Layer (gossip-only with commitments exposed via API)
  op-commitment-sepolia-node:
    restart: on-failure:5
    image: koxu1996/op-node:v1.16.3
    ports:
      - "0.0.0.0:9547:9547" # RPC
      - "0.0.0.0:9223:9223" # P2P TCP
      - "0.0.0.0:9223:9223/udp" # P2P UDP
    command: >
      --l1=https://ethereum-sepolia-rpc.publicnode.com
      --l1.rpckind=basic
      --l1.beacon=https://ethereum-sepolia-beacon-api.publicnode.com
      --network=op-sepolia
      --rpc.addr=0.0.0.0
      --rpc.port=9547
      --p2p.listen.ip=0.0.0.0
      --p2p.listen.tcp=9223
      --gossip-only
